{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AATA,IAAM,mBAAmB,SAAnB,gBAAmB,CAAC,IAAD,EAAO,SAAP,EAAqB;AAC5C,MAAI,aAAa,KAAb,CADwC;AAE1C,MAAI,UAAU;AACZ,UAAM,MAAN;AACA,cAAU,oBAAM;AACd,mBAAa,IAAb,CADc;AAEZ,WAAK,SAAL,CAAe,OAAO,GAAP,EAAf,EAFY;KAAN;GAFR,CAFsC;AAS5C,MAAI,SAAS,IAAI,UAAJ,CAAe,SAAf,EAA0B,OAA1B,EAAmC,KAAK,SAAL,EAAnC,CAAT,CATwC;;AAW1C,MAAI,OAAO,IAAP,CAXsC;;AAa1C,MAAI,eAAe,UAAU,aAAV,CAAwB,wBAAxB,CAAf,CAbsC;AAc1C,eAAa,UAAb,CAAwB,WAAxB,CAAoC,YAApC,EAd0C;AAe1C,MAAI,iBAAiB,UAAU,aAAV,CAAwB,0BAAxB,CAAjB,CAfsC;AAgB1C,iBAAe,UAAf,CAA0B,WAA1B,CAAsC,cAAtC,EAhB0C;;AAkB1C,MAAI,OAAO,SAAS,aAAT,CAAuB,kBAAvB,CAAP,CAlBsC;;AAoB1C,MAAI,aAAa,SAAS,aAAT,CAAuB,KAAvB,CAAb,CApBsC;AAqB1C,aAAW,YAAX,CAAwB,OAAxB,4QArB0C;AAgC1C,aAAW,SAAX,GAAuB,MAAvB,CAhC0C;AAiC1C,aAAW,OAAX,CAAmB,IAAnB,GAA0B,IAA1B,CAjC0C;AAkC1C,aAAW,gBAAX,CAA4B,OAA5B,EAAqC,aAAK;AACxC,QAAI,WAAW,OAAX,CAAmB,IAAnB,KAA4B,MAA5B,EAAoC;AACtC,iBAAW,OAAX,CAAmB,IAAnB,GAA0B,KAA1B,CADsC;AAExC,iBAAW,KAAX,CAAiB,UAAjB,GAA8B,SAA9B,CAFwC;AAGxC,aAAO,KAAP,CAHwC;KAAxC,MAIO;AACL,iBAAW,OAAX,CAAmB,IAAnB,GAA0B,IAA1B,CADK;AAEP,iBAAW,KAAX,CAAiB,UAAjB,GAA8B,SAA9B,CAFO;AAGP,aAAO,IAAP,CAHO;AAIP,aAAO,GAAP,CAAW,KAAK,SAAL,EAAX,EAJO;KAJP;GADmC,CAArC,CAlC0C;;AA+C5C,YAAU,KAAV,CAAgB,UAAhB,GAA6B,OAA7B,CA/C4C;AAgD5C,OAAK,KAAL,CAAW,MAAX,GAAoB,MAApB,CAhD4C;AAiD5C,OAAK,KAAL,CAAW,QAAX,GAAsB,UAAtB,CAjD4C;AAkD5C,OAAK,KAAL,CAAW,MAAX,GAAoB,IAApB,CAlD4C;;AAoD5C,MAAI,KAAK,SAAL,CApDwC;AAqD5C,MAAI,QAAQ,KAAR;MAAe,CAAnB;MAAsB,CAAtB;MAAyB,IAAzB;MAA+B,IAA/B;MAAqC,QAAQ,IAAR,CArDO;AAsD5C,KAAG,WAAH,GAAiB,UAAS,CAAT,EAAY;AAC3B,QAAI,EAAE,MAAF,CAAS,YAAT,CAAsB,OAAtB,MAAmC,iBAAnC,EAAsD;AACxD,cAAQ,IAAR,CADwD;KAA1D;GADe,CAtD2B;AA2D5C,KAAG,SAAH,GAAe,YAAW;AACxB,YAAQ,KAAR,CADwB;AAExB,YAAQ,IAAR,CAFwB;GAAX,CA3D6B;AA+D5C,KAAG,WAAH,GAAiB,UAAS,CAAT,EAAY;AAC3B,QAAI,KAAJ,EAAW;AACT,UAAI,KAAJ,EAAW;AACT,YAAI,EAAE,OAAF,CADK;AAET,YAAI,EAAE,OAAF,CAFK;AAGT,gBAAQ,KAAR,CAHS;OAAX;AAKA,aAAO,EAAE,KAAF,GAAU,CAAV,CANE;AAOT,aAAO,EAAE,KAAF,GAAU,CAAV,CAPE;AAQT,WAAK,KAAL,CAAW,IAAX,GAAkB,OAAO,IAAP,CART;AAST,WAAK,KAAL,CAAW,GAAX,GAAiB,OAAO,IAAP,CATR;KAAX;GADe,CA/D2B;;AA6E5C,OAAK,YAAL,CAAkB,UAAlB,EAA8B,KAAK,UAAL,CAA9B,CA7E4C;;AA+E5C,OAAK,EAAL,CAAQ,QAAR,EAAkB,aAAK;AACrB,QAAI,cAAc,KAAd,EAAqB;AACvB,UAAI,IAAJ,EAAU;AACR,eAAO,GAAP,CAAW,KAAK,SAAL,EAAX,EADQ;OAAV;KADF,MAIO;AACL,mBAAa,KAAb,CADK;KAJP;GADgB,CAAlB,CA/E4C;CAArB;;AA0FzB,SAAS,KAAT,CAAe,EAAf,EAAmB;AACjB,MAAI,SAAS,UAAT,IAAuB,SAAvB,EAAiC;AACnC,SADmC;GAArC,MAEO;AACL,aAAS,gBAAT,CAA0B,kBAA1B,EAA8C,EAA9C,EADK;GAFP;CADF;;AAQA,IAAM,mBAAmB,SAAnB,gBAAmB,CAAC,IAAD,EAAO,IAAP,EAAgB;;AAEvC,MAAI,cAAc,mBAAd,CAFmC;;AAIrC,QAAM,YAAM;AACV,QAAI,KAAM,SAAS,cAAT,CAAwB,WAAxB,CAAN,CADM;AAEV,QAAI,EAAJ,EAAQ;AACN,SAAG,UAAH,CAAc,WAAd,CAA0B,EAA1B,EADM;KAAR;;AAIF,QAAI,MAAM,SAAS,aAAT,CAAuB,MAAvB,CAAN,CANQ;AAOV,QAAI,YAAJ,CAAiB,MAAjB,EAAwB,wEAAxB,EAPU;AAQV,QAAI,YAAJ,CAAiB,KAAjB,EAAwB,YAAxB,EARU;AASV,aAAS,IAAT,CAAc,WAAd,CAA0B,GAA1B,EATU;;AAWV,QAAI,mBAAmB,SAAS,aAAT,CAAuB,QAAvB,CAAnB,CAXM;AAYV,qBAAiB,YAAjB,CAA8B,KAA9B,EAAoC,uEAApC,EAZU;AAaV,aAAS,IAAT,CAAc,WAAd,CAA0B,gBAA1B,EAbU;;AAeV,QAAI,eAAe,SAAS,aAAT,CAAuB,KAAvB,CAAf,CAfM;AAgBV,iBAAa,YAAb,CAA0B,IAA1B,EAAgC,WAAhC,EAhBU;AAiBV,iBAAa,YAAb,CAA0B,OAA1B,EAAmC,2DAAnC,EAjBU;AAkBV,aAAS,IAAT,CAAc,WAAd,CAA0B,YAA1B,EAlBU;GAAN,CAAN;;;AAJqC,MA6BnC,WAAW,YAAY,YAAY;AACrC,QAAI,OAAO,UAAP,KAAsB,WAAtB,EAAmC;AACrC,oBAAc,QAAd,EADqC;AAEvC,UAAI,YAAY,SAAS,cAAT,CAAwB,WAAxB,CAAZ,CAFmC;AAGvC,uBAAiB,IAAjB,EAAuB,SAAvB,EAHuC;KAAvC;GADyB,EAMxB,GANY,CAAX;;;AA7BmC,MAsCnC,UAAU,OAAO,GAAP,EAAY;AACxB,WAAO,GAAP,CAAW,OAAX,CAAmB,gBAAQ;AACzB,UAAI,KAAK,SAAS,cAAT,CAAwB,YAAxB,CAAL,CADqB;AAEzB,SAAG,UAAH,CAAc,WAAd,CAA0B,EAA1B,EAFyB;KAAR,CAAnB,CADwB;GAA1B;CAtCuB;;AA8CzB,IAAI,MAAJ,EAAY;AACV,SAAO,gBAAP,GAA0B,gBAA1B,CADU;CAAZ;;AAIA,OAAO,OAAP,GAAiB,gBAAjB","file":"main.js","sourcesContent":["const createJsonEditor = (tree, container) => {\n  let ignoreNext = false\n    let options = {\n      mode: 'form',\n      onChange: () => {\n        ignoreNext = true\n          tree.deepMerge(editor.get())\n      }\n    }\n  let editor = new JSONEditor(container, options, tree.serialize())\n\n    let sync = true\n\n    var expandButton = container.querySelector('.jsoneditor-expand-all')\n    expandButton.parentNode.removeChild(expandButton)\n    var collapseButton = container.querySelector('.jsoneditor-collapse-all')\n    collapseButton.parentNode.removeChild(collapseButton)\n\n    var menu = document.querySelector('.jsoneditor-menu')\n\n    var syncButton = document.createElement('div')\n    syncButton.setAttribute('style', `\n        float: left;\n        padding: 7px;\n        text-transform: uppercase;\n        cursor: pointer;\n        font-family: Helvetica, Arial;\n        font-size: 15px;\n        background: #88C425;\n        color: #FEFEFE;\n        font-weight: bold;\n    `)\n    syncButton.innerText = 'Sync'\n    syncButton.dataset.sync = sync\n    syncButton.addEventListener('click', e => {\n      if (syncButton.dataset.sync === 'true') {\n        syncButton.dataset.sync = false\n      syncButton.style.background = '#E3342D'\n      sync = false\n      } else {\n        syncButton.dataset.sync = true\n      syncButton.style.background = '#88C425'\n      sync = true\n      editor.set(tree.serialize())\n      }\n    })\n\n  container.style.background = 'white'\n  menu.style.cursor = 'move'\n  menu.style.position = 'relative'\n  menu.style.zIndex = '10'\n\n  var el = container\n  var mover = false, x, y, posx, posy, first = true;\n  el.onmousedown = function(e) {\n    if (e.target.getAttribute('class') === 'jsoneditor-menu') {\n      mover = true;\n    }\n  };\n  el.onmouseup = function() {\n    mover = false;\n    first = true;\n  };\n  el.onmousemove = function(e) {\n    if (mover) {\n      if (first) {\n        x = e.offsetX;\n        y = e.offsetY;\n        first = false;\n      }\n      posx = e.pageX - x;\n      posy = e.pageY - y;\n      this.style.left = posx + 'px';\n      this.style.top = posy + 'px';\n    }\n  };\n\n  menu.insertBefore(syncButton, menu.firstChild)\n\n  tree.on('update', e => {\n    if (ignoreNext == false) {\n      if (sync) {\n        editor.set(tree.serialize())\n      }\n    } else {\n      ignoreNext = false\n    }\n  })\n}\n\nfunction ready(fn) {\n  if (document.readyState != 'loading'){\n    fn();\n  } else {\n    document.addEventListener('DOMContentLoaded', fn);\n  }\n}\n\nconst baobabJsonEditor = (tree, opts) => {\n\n  var containerId = 'baobab-jsoneditor'\n\n    ready(() => {\n      var el =  document.getElementById(containerId)\n      if (el) {\n        el.parentNode.removeChild(el)\n      }\n\n    var css = document.createElement('link')\n      css.setAttribute('href','https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/5.4.0/jsoneditor.css')\n      css.setAttribute('rel', 'stylesheet')\n      document.head.appendChild(css)\n\n      var jsonEditorDepsJs = document.createElement('script')\n      jsonEditorDepsJs.setAttribute('src','https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/5.4.0/jsoneditor.js')\n      document.head.appendChild(jsonEditorDepsJs)\n\n      var jsonEditorEl = document.createElement('div')\n      jsonEditorEl.setAttribute('id', containerId)\n      jsonEditorEl.setAttribute('style', 'width: 400px; position: absolute; top: 10px; right: 10px;')\n      document.body.appendChild(jsonEditorEl)\n\n\n\n    })\n\n  // Wait for JSONEditor to load\n  let interval = setInterval(function () {\n    if (typeof JSONEditor !== 'undefined') {\n      clearInterval(interval)\n    var container = document.getElementById(containerId)\n    createJsonEditor(tree, container)\n    }\n  }, 300)\n\n  // Module dispose logic\n  if (module && module.hot) {\n    module.hot.dispose(data => {\n      var el = document.getElementById('jsoneditor')\n      el.parentNode.removeChild(el)\n    })\n  }\n}\n\nif (window) {\n  window.baobabJsonEditor = baobabJsonEditor\n}\n\nmodule.exports = baobabJsonEditor\n"],"sourceRoot":"/source/"}